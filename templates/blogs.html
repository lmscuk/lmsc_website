{% extends 'base.html' %} {% block title %}LMSC Blog - British 16–19 STEM
College in London{% endblock %} {% block meta_description %}
<meta
  name="description"
  content="Browse London Maths & Science College articles covering STEM study tips, British curriculum guidance and university pathways for 16–19 learners."
/>
{% endblock %} {% block extra_head %}
<style>
  .fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .scale-in {
    opacity: 0;
    transform: scale(0.95);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
  }

  .scale-in.visible {
    opacity: 1;
    transform: scale(1);
  }

  .stagger-1 {
    transition-delay: 0.1s;
  }
  .stagger-2 {
    transition-delay: 0.2s;
  }
  .stagger-3 {
    transition-delay: 0.3s;
  }
  .stagger-4 {
    transition-delay: 0.4s;
  }
  .stagger-5 {
    transition-delay: 0.5s;
  }
  .stagger-6 {
    transition-delay: 0.6s;
  }
</style>
{% endblock %} {% block content %} {% set articles = blog_posts or [] %} {% set
stagger_classes =
['stagger-1','stagger-2','stagger-3','stagger-4','stagger-5','stagger-6'] %} {%
set stagger_len = stagger_classes|length %} {% set page_size = 12 %} {% if
articles %}
<section class="py-20 px-6 bg-gradient-to-b from-white to-slate-50">
  <div class="container mx-auto text-center max-w-4xl">
    <span
      class="inline-block bg-accent text-primary px-4 py-2 rounded-full text-sm font-medium mb-6 fade-in"
      >Articles</span
    >
    <h1 class="text-primary font-bold text-gray-900 mb-6 fade-in">
      A Level &amp; GCSE STEM Insights <br />Study Smarter, Aim Higher
    </h1>
    <p class="text-lg text-gray-600 max-w-2xl mx-auto fade-in">
      Browse evidence-informed articles, study tips and university pathway
      guides for A Level and GCSE STEM students. Written by London Maths &amp;
      Science College, these insights support learners and families in the UK
      and overseas who want the depth and rigour of a British sixth form
      education—whether studying online, in person, or hybrid.
    </p>
  </div>
</section>

<section class="py-12 relative overflow-hidden">
  <div class="container mx-auto px-6">
    <div id="blogGrid" class="grid md:grid-cols-3 gap-12">
      {% for post in articles %} {% set thumb = post.thumbnail_path or
      post.cover_image_path %} {% set stagger = stagger_classes[loop.index0 %
      stagger_len] %} {% set hidden_class = 'hidden' if loop.index0 >= page_size
      else '' %}
      <article class="scale-in {{ stagger }} {{ hidden_class }}" data-blog-card>
        {% if thumb %}
        <div class="aspect-video overflow-hidden rounded-xl">
          <img
            src="{{ url_for('static', filename=thumb) }}"
            alt="{{ post.thumbnail_alt or post.cover_image_alt or post.title }}"
            class="w-full h-[400px] rounded-xl object-cover"
            loading="lazy"
          />
        </div>
        {% endif %}
        <div class="pt-6">
          <p class="text-sm text-gray-500 mb-2">
            {{ post.publish_date|format_date }}
          </p>
          <h3 class="font-bold mb-3 text-gray-900">{{ post.title }}</h3>
          {% if post.summary %}
          <p class="text-sm text-gray-600 mb-4">{{ post.summary }}</p>
          {% endif %}
          <a
            href="{{ url_for('blog_post_detail', slug=post.slug) }}"
            class="text-primary font-medium inline-flex items-center gap-2 hover:gap-3 transition-all"
          >
            Read More
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </a>
        </div>
      </article>
      {% endfor %}
    </div>
    {% if articles|length > page_size %}
    <div class="text-center mt-12 fade-in">
      <button
        id="loadMorePosts"
        type="button"
        data-page-size="{{ page_size }}"
        class="bg-emerald-900 hover:bg-emerald-800 text-white px-8 py-4 rounded-full font-semibold inline-flex items-center justify-center gap-2 transition-all"
      >
        Load More
      </button>
    </div>
    {% endif %}
  </div>
</section>
{% else %}
<section class="py-20 px-6 bg-gradient-to-b from-white to-slate-50">
  <div class="container mx-auto text-center max-w-4xl">
    <span
      class="inline-block bg-accent text-primary px-4 py-2 rounded-full text-sm font-medium mb-6 fade-in"
      >Articles</span
    >
    <h1 class="text-primary font-bold text-gray-900 mb-6 fade-in">LMSC Blog</h1>
    <p class="text-lg text-gray-600 max-w-2xl mx-auto fade-in">
      Our editorial team is preparing new stories. Check back soon for insights
      from London Maths &amp; Science College.
    </p>
  </div>
</section>

<section class="py-16">
  <div class="container mx-auto px-6 text-center">
    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
      We will publish our first set of articles shortly.
    </p>
  </div>
</section>
{% endif %}

<section class="py-20 px-6 bg-gradient-to-br from-[#fefffe] to-[#ecf8f4]">
  <div class="container mx-auto px-6">
    <div class="grid md:grid-cols-2 gap-20 items-center">
      <div class="scale-in stagger-2">
        <span
          class="inline-block px-4 py-2 font-bold bg-[#C5F3C5] text-lime-700 text-sm rounded-full rotate-[-8deg] mb-5"
          >Plan Your Next Step</span
        >
        <h2 class="text-primary font-bold text-3xl mb-4">
          Discover how LMSC supports ambitious STEM students
        </h2>
        <p class="text-opacity-90 text-gray-700 mb-8 leading-relaxed">
          Speak with our admissions mentors to map the right course combination,
          scholarship options, and support programme for your goals.
        </p>
        <a
          href="{{ url_for('book_consultation') }}"
          class="switch-btn bg-emerald-900 hover:bg-emerald-800 text-white px-8 py-4 rounded-full font-semibold inline-flex items-center gap-3 transition-all duration-300 overflow-hidden"
        >
          <span>Book a Consultation</span>
          <span
            class="flex items-center justify-center w-8 h-8 bg-lime-300 rounded-full"
          >
            <svg
              class="h-5 w-5 text-emerald-900"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13 7l5 5m0 0l-5 5m5-5H6"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2.5"
              ></path>
            </svg>
          </span>
        </a>
      </div>
      <div class="relative flex items-center justify-end scale-in stagger-2">
        <div class="main-image relative w-full max-w-sm">
          <div
            class="absolute inset-0 rounded-3xl overflow-hidden flex items-center justify-center"
          >
            <img
              src="{{ url_for('static', filename='Images/user-image.png') }}"
              alt="Student speaking with tutor"
              class="w-full h-full object-cover object-center"
              loading="lazy"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %} {% block extra_scripts %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const loadMoreBtn = document.getElementById("loadMorePosts");
    if (!loadMoreBtn || typeof observer === "undefined") {
      return;
    }

    const pageSize = parseInt(loadMoreBtn.dataset.pageSize || "12", 10);
    const cards = Array.from(document.querySelectorAll("[data-blog-card]"));
    let visibleCount = cards.filter(
      (card) => !card.classList.contains("hidden")
    ).length;

    const revealNext = () => {
      const nextVisible = Math.min(visibleCount + pageSize, cards.length);
      for (let i = visibleCount; i < nextVisible; i += 1) {
        const card = cards[i];
        card.classList.remove("hidden");
        observer.observe(card);
      }
      visibleCount = nextVisible;
      if (visibleCount >= cards.length) {
        loadMoreBtn.classList.add("hidden");
      }
    };

    loadMoreBtn.addEventListener("click", revealNext);
  });
</script>
{% endblock %}
